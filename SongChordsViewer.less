@SONG_CHORDS_VIEWER: song;
@SONG_CHORDS_FONT_SIZE: auto;
@SONG_CHORDS_FONT_SIZE_S: 0.9em;
@SONG_CHORDS_FONT_SIZE_XS: 0.7em;
@SONG_CHORDS_FONT_COLOR: rgb(0, 0, 0);
@SONG_CHORDS_FONT_COLOR_MUTED: rgb(102, 102, 102);
@SONG_CHORDS_LINK_COLOR: rgb(0, 0, 238);
@SONG_CHORDS_BACKGROUND_COLOR: rgb(255, 255, 255);
@SONG_CHORDS_BORDER_COLOR_MUTED: rgba(102, 102, 102, 0.5);
@SONG_CHORDS_BORDER_COLOR_FIELDS: rgba(255, 192, 203, 0.7);
@SONG_CHORDS_COMMA: ", ";
@SONG_CHORDS_COLON: ": ";
@SONG_CHORDS_ELIPSIS: "â€¦";

.@{SONG_CHORDS_VIEWER}
{
    font-family: Arial, Verdana, sans-serif;
    font-size: @SONG_CHORDS_FONT_SIZE;

    display: flex;

    width: 100%;
    min-height: 100%;

    color: @SONG_CHORDS_FONT_COLOR;
    background: @SONG_CHORDS_BACKGROUND_COLOR;

    &__chord
    {
        font-size: @SONG_CHORDS_FONT_SIZE_XS;

        vertical-align: bottom;
        white-space: nowrap;

        display: inline-block;

        width: 0;
        height: 3em;

        color: @SONG_CHORDS_FONT_COLOR_MUTED;

        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;

        &_is
        {
            &_alone
            {
                width: auto;
            }
        }
    }

    &__label
    {
        
    }

    &__space
    {
        font-size: @SONG_CHORDS_FONT_SIZE_S;

        display: inline-block;

        height: 0.2em;
        margin: 0 0.1em;

        color: @SONG_CHORDS_BORDER_COLOR_MUTED;
        border: solid 1px;
        border-top-width: 0;
        border-bottom-width: 2px;
    }

    &__title
    {
        font-family: Times, serif;
        font-size: 1.5em;
    }

    &__verse
    {
        margin-top: 1em;

        .@{SONG_CHORDS_VIEWER}__label
        {
            font-size: @SONG_CHORDS_FONT_SIZE_S;

            color: @SONG_CHORDS_FONT_COLOR_MUTED;
        }

        &_type
        {
            &_coda,
            &_note,
            &_intro,
            &_verse,
            &_bridge,
            &_epigraph
            {
                position: relative;

                .@{SONG_CHORDS_VIEWER}__label
                {
                    font-style: italic;

                    position: absolute;
                    top: 0;
                    right: 100%;

                    margin-right: 0.2em;

                    &::after
                    {
                        content: @SONG_CHORDS_COLON;
                    }
                }
            }

            &_coda,
            &_intro,
            &_bridge
            {
                .@{SONG_CHORDS_VIEWER}__chord
                {
                    font-size: 100%;

                    width: auto;
                    height: auto;
                }
            }

            &_note,
            &_epigraph
            {
                font-style: italic;
            }

            &_chorus
            {
                margin-left: 1em;

                .@{SONG_CHORDS_VIEWER}__label
                {
                    &::after
                    {
                        content: @SONG_CHORDS_COLON;
                    }
                }

                &
                {
                    .@{SONG_CHORDS_VIEWER}__label
                    {
                        &:last-child::after
                        {
                            content: @SONG_CHORDS_ELIPSIS;
                        }
                    }
                }
            }

            &_asterism
            {
                font-family: Times, serif;
                font-size: 1.5em;

                margin-left: 2.5em;
            }
        }
    }

    &__author
    {
        
    }

    &__chords
    {
        align-self: stretch;

        width: 22%;
        padding-left: 0.5em;
        margin-left: 3%;
        box-sizing: border-box;

        border-left: @SONG_CHORDS_BORDER_COLOR_FIELDS solid 1px;
    }

    &__editor
    {
        display: flex;
        flex-direction: column;
        align-self: stretch;

        width: 32%;
        margin-right: 3%;
        box-sizing: border-box;
    }

    &__editor-tag
    {
        white-space: nowrap;

        display: inline-block;

        margin-right: 1em;
    }

    &__editor-tags
    {
        font-size: @SONG_CHORDS_FONT_SIZE_S;

        margin-bottom: 1em;

        color: @SONG_CHORDS_BORDER_COLOR_MUTED;

        .@{SONG_CHORDS_VIEWER}__label
        {
            margin-right: 1em;

            &::after
            {
                content: @SONG_CHORDS_COLON;
            }
        }
    }

    &__editor-input
    {
        flex-grow: 1;
    }

    &__lyrics
    {
        align-self: stretch;

        width: 75%;
        padding-bottom: 0.5em;
        padding-left: 5em;
        box-sizing: border-box;
    }

    &__repeat
    {
        position: relative;

        &::before
        {
            font-size: @SONG_CHORDS_FONT_SIZE_S;

            content: "";
            display: block;
            position: absolute;
            top: -0.1em;
            right: 100%;
            bottom: -0.1em;

            width: 6px;
            margin-top: 0.2em;
            margin-right: 0.2em;
            box-sizing: border-box;

            color: @SONG_CHORDS_BORDER_COLOR_MUTED;
            border: solid 1px;
            border-right-width: 0;
            border-left-width: 2px;
            border-top-left-radius: 5px;
            border-bottom-left-radius: 5px;
        }

        &::after
        {
            font-size: @SONG_CHORDS_FONT_SIZE_S;

            content: "";
            display: block;
            position: absolute;
            top: 50%;
            right: 100%;
            transform: translate(0, -50%);

            width: 0;
            height: 0;
            margin-right: 0.6em;
            overflow: hidden;
            box-sizing: border-box;

            color: @SONG_CHORDS_BORDER_COLOR_MUTED;
            border-style: solid;
            border-width: 2px 3px 2px 0;
            border-top-color: transparent;
            border-bottom-color: transparent;
            border-left-width: 0;
        }

        .@{SONG_CHORDS_VIEWER}__label
        {
            font-size: @SONG_CHORDS_FONT_SIZE_S;

            white-space: nowrap;

            position: absolute;
            top: 50%;
            right: 100%;
            transform: translate(0, -50%);

            margin-right: 1em;

            color: @SONG_CHORDS_FONT_COLOR_MUTED;
        }

        &_is
        {
            &_chorded
            {
                &::before
                {
                    margin-top: 1.15em;
                }

                &::after
                {
                    margin-top: 0.5em;
                }

                .@{SONG_CHORDS_VIEWER}__label
                {
                    margin-top: 0.5em;
                }
            }
        }
    }

    &__authors
    {
        font-size: @SONG_CHORDS_FONT_SIZE_S;
        font-style: italic;

        margin-top: 0.1em;

        color: @SONG_CHORDS_FONT_COLOR_MUTED;

        .@{SONG_CHORDS_VIEWER}__label
        {
            &::after
            {
                content: @SONG_CHORDS_COLON;
            }
        }

        .@{SONG_CHORDS_VIEWER}__author
        {
            &::after
            {
                content: @SONG_CHORDS_COMMA;
            }

            &:last-child::after
            {
                content: "";
            }
        }

        &_of
        {
            &_written
            {
                
            }

            &_composed
            {
                
            }
            
            &_performed
            {
                
            }

            &_translated
            {
                
            }
        }
    }

    &__textarea
    {
        font-size: 100%;
        font-family: inherit;

        margin: 0;
        width: 100%;
        height: 600px;
        resize: none;
        box-sizing: border-box;

        border: @SONG_CHORDS_FONT_COLOR_MUTED solid 1px;

        &:focus
        {
            outline: none;
        }
    }

    &__copyright
    {
        margin-top: 1em;
    }

    &_mode
    {
        &_editor
        {
            .@{SONG_CHORDS_VIEWER}__lyrics
            {
                width: 40%;
            }
        }
    }
}
